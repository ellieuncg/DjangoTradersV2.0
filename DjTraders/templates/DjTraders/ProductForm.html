{% extends "base.html" %}
{% load static %}

{% block content %}
{# Header section - dynamically shows "New" or "Update" based on whether editing existing product #}
<div class="page-header header-product-form">
    <h1>{% if form.instance.pk %}Update{% else %}New{% endif %} Product</h1>
</div>

{# Main form container #}
<div class="form-container form-container-product">
    <form method="post" class="detail-form">
        {% csrf_token %}
        
        {# Product Name Field #}
        <div class="detail-row detail-row-product">
            <span class="detail-label">Product name:</span>
            <div class="detail-field">
                {{ form.product_name }}
                {# Error handling for product name #}
                {% if form.product_name.errors %}
                    <div class="error-message">{{ form.product_name.errors|join:", " }}</div>
                {% endif %}
            </div>
        </div>

        {# Category Selection Field #}
        <div class="detail-row detail-row-product">
            <span class="detail-label">Category:</span>
            <div class="detail-field">
                {{ form.category }}
                {# Error handling for category #}
                {% if form.category.errors %}
                    <div class="error-message">{{ form.category.errors|join:", " }}</div>
                {% endif %}
            </div>
        </div>

        {# Unit Field #}
        <div class="detail-row detail-row-product">
            <span class="detail-label">Unit:</span>
            <div class="detail-field">
                {{ form.unit }}
                {# Error handling for unit #}
                {% if form.unit.errors %}
                    <div class="error-message">{{ form.unit.errors|join:", " }}</div>
                {% endif %}
            </div>
        </div>

        {# Price Field #}
        <div class="detail-row detail-row-product">
            <span class="detail-label">Price:</span>
            <div class="detail-field">
                {{ form.price }}
                {# Error handling for price #}
                {% if form.price.errors %}
                    <div class="error-message">{{ form.price.errors|join:", " }}</div>
                {% endif %}
            </div>
        </div>

        {# Form Action Buttons #}
        <div class="button-group">
            {# Save button #}
            <button type="submit" class="action-btn btn-edit" title="Save">
                <i class="fas fa-save"></i>
            </button>
            {# Return to products list button #}
            <a href="{% url 'DjTraders:Products' %}" class="action-btn btn-view" title="Return">
                <i class="fas fa-chevron-left"></i>
            </a>
        </div>
    </form>
</div>
{% endblock %}